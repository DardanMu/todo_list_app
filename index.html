<!doctype html>

<html>
<head>
	<meta charset="utf-8">
	<title>TODO List</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="jquery1.6.2.min.js"></script>
	<script type="text/javascript" src="script.js"></script>
</head>
<body>


	<h2>Your to-do list:</h2>
	<form name="addToList" id="addToList">
		<textarea rows="4" cols="50" id="userInput" placeholder="Enter an item in here!"></textarea>
		<br/><button>Add</button>
	</form>

	<ol id="list">
	</ol>

<h4></h4>

<script type="text/javascript">
	function printValue(){
		
		var itemListArray = JSON.parse(localStorage.getItem("userList"));

		for(var i=0;i<itemListArray.length;i++){
		var objectItem = itemListArray[i];

			$('<li><span class="listText">' +objectItem.item+ '</span> <span id="hiddenItemID">'+objectItem.id+'</span> <button id="strikeOff">&#10003;</button> <button id="delete">&#10007;</button> <button id="edit">EDIT</button> </li>').appendTo('#list');
	}
	}

	jQuery(document).ready(function($) {
		//Initial function to display saved items onto the page
		printValue();






var currentCount2 = JSON.parse(localStorage.getItem("userList")).length;
					//window.localStorage.length;

	$('h4').append(currentCount2);
	//clear all items button
	//$('<button onclick="window.localStorage.clear()">Clear All Items</button>').insertAfter('h4');

	});

	//loop to print out values - test stuff only
var itemListArray = JSON.parse(localStorage.getItem("userList"));

		for(var i=0;i<itemListArray.length;i++){
		var objectItem = itemListArray[i];

			$('<p>' + objectItem.id + ' - ' + objectItem.item + ' - ' + objectItem.complete +'</p>').insertAfter('h4');
	}
	//just to space it out on the page, delete afterwards
	$('<p> <br> .<br> .<br> .<br> .<br> .<br> </p>').insertAfter('h4');


	//JSON stuff

	//Dardan, The JSON data works well on this page as an example, now use it on script.js to add to the array everytime a new item is added to the list. Then edit the functions for delete/edit etc. 
	

	var exampleObjectArray = [
		{"id":1, "item":"one", "complete":false},
		{"id":2, "item":"two", "complete":false},
		{"id":3, "item":"three", "complete":false}
	];

	//localStorage.setItem("userList", JSON.stringify(exampleObjectArray));

	//$('<p>'+ (JSON.parse(localStorage.getItem("JSON"))).length + '</p>').insertAfter('h4');










</script>

<!-- EXPERIMENT STUFF
<script type="text/javascript">

	window.localStorage.setItem("uk", "London"); 		// index 0
	window.localStorage.setItem("usa", "New York"); 	// index 1
	window.localStorage.setItem("france", "Paris"); 	// index 2
	window.localStorage.setItem("kosovo", "Prishtina"); // index 3
	window.localStorage.setItem(5, "Amsterdam"); 		// index 4
	window.localStorage.removeItem(7); 		// index 6

	//var numberexample = 6;

	//window.localStorage.setItem(numberexample, "LA, CA"); 		// index 5
	window.localStorage.setItem(6, "LA, California!!!");

	var currentCount = (window.localStorage.length) + 1;

	$('h4').append(currentCount);


	function getValue(x){
		var keyname = window.localStorage.key(x);
		var valueOfKey = window.localStorage.getItem(keyname);

		$('<li><span class="listText">' +valueOfKey+ '</span> <button id="strikeOff">&#10003;</button> <button id="delete">&#10007;</button> <button id="edit">EDIT</button> </li>').appendTo('#list');
	}


	for(x=0;x<window.localStorage.length;x++){
		getValue(x);
	}
</script>
-->




</body>
</html>	